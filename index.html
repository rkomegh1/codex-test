<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>On2Cook Recipe Catalog</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Sticky top navigation -->
    <header class="site-header">
      <div class="container header-content">
        <div class="brand">
          <span class="brand-dot" aria-hidden="true"></span>
          <div>
            <p class="brand-eyebrow">Customer Support</p>
            <p class="brand-name">On2Cook Recipes</p>
          </div>
        </div>
        <nav class="nav" aria-label="Primary">
          <a href="#recipes">Recipes</a>
          <a href="#filters">Filters</a>
          <a href="#support">Support</a>
        </nav>
        <button class="ghost-button" type="button">Sign In</button>
      </div>
    </header>

    <main>
      <!-- Hero introduction -->
      <section class="hero">
        <div class="container hero-content">
          <div class="hero-text">
            <p class="eyebrow">Recipe Library</p>
            <h1>Find every On2Cook recipe in one smart, searchable catalog.</h1>
            <p class="hero-description">
              Filter by meal type, sort by time or calories, and explore all 400 recipes
              curated by our culinary support team.
            </p>
            <div class="hero-stats">
              <div>
                <p class="stat-label">Total Recipes</p>
                <p class="stat-value" id="recipe-count">400</p>
              </div>
              <div>
                <p class="stat-label">Avg. Cook Time</p>
                <p class="stat-value">24 min</p>
              </div>
              <div>
                <p class="stat-label">Collections</p>
                <p class="stat-value">12</p>
              </div>
            </div>
          </div>
          <div class="hero-card">
            <p class="hero-card-title">Featured Recipe</p>
            <h2>Sunny Citrus Grain Bowl</h2>
            <p>
              Bright, fresh, and balanced with roasted veggies, herbs, and a lemon vinaigrette.
            </p>
            <div class="badge-row">
              <span class="badge">22 min</span>
              <span class="badge">390 kcal</span>
              <span class="badge">Vegetarian</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Search and filters -->
      <section id="filters" class="controls">
        <div class="container controls-grid">
          <div>
            <h2>Search &amp; filter recipes</h2>
            <p>
              Use the controls to narrow by category, sort by cook time or calories, and
              quickly locate any recipe in the catalog.
            </p>
          </div>
          <div class="filters">
            <label class="field">
              <span>Search</span>
              <input
                id="search-input"
                type="search"
                placeholder="Search by recipe name"
                aria-label="Search recipes"
              />
            </label>
            <label class="field">
              <span>Category</span>
              <select id="category-select" aria-label="Filter by category">
                <option value="all">All categories</option>
                <option value="Breakfast">Breakfast</option>
                <option value="Lunch">Lunch</option>
                <option value="Dinner">Dinner</option>
                <option value="Snack">Snack</option>
                <option value="Dessert">Dessert</option>
              </select>
            </label>
            <label class="field">
              <span>Sort by</span>
              <select id="sort-select" aria-label="Sort recipes">
                <option value="featured">Featured</option>
                <option value="time">Cook time</option>
                <option value="calories">Calories</option>
              </select>
            </label>
          </div>
        </div>
      </section>

      <!-- Recipe grid -->
      <section id="recipes" class="recipes">
        <div class="container">
          <div class="section-header">
            <h2>All recipes</h2>
            <p id="results-count">Showing 400 recipes</p>
          </div>
          <div id="recipe-grid" class="recipe-grid"></div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer id="support" class="site-footer">
      <div class="container footer-content">
        <div>
          <h3>Need support?</h3>
          <p>Email the team at support@on2cook.com for assistance.</p>
        </div>
        <p>Â© 2024 On2Cook. All rights reserved.</p>
      </div>
    </footer>

    <!-- Generate 400 recipes and apply filters -->
    <script>
      const categories = ["Breakfast", "Lunch", "Dinner", "Snack", "Dessert"];
      const tags = ["Vegan", "Gluten-Free", "High-Protein", "Family", "Quick"];

      const recipeData = Array.from({ length: 400 }, (_, index) => {
        const category = categories[index % categories.length];
        const cookTime = 12 + (index % 30);
        const calories = 280 + (index % 220);
        return {
          id: index + 1,
          name: `${category} Recipe ${String(index + 1).padStart(3, "0")}`,
          category,
          cookTime,
          calories,
          tag: tags[index % tags.length],
          description:
            "Balanced flavors with fresh ingredients and a satisfying finish.",
        };
      });

      const recipeGrid = document.getElementById("recipe-grid");
      const resultsCount = document.getElementById("results-count");
      const searchInput = document.getElementById("search-input");
      const categorySelect = document.getElementById("category-select");
      const sortSelect = document.getElementById("sort-select");

      const renderRecipes = (recipes) => {
        recipeGrid.innerHTML = "";
        recipes.forEach((recipe) => {
          const card = document.createElement("article");
          card.className = "recipe-card";
          card.innerHTML = `
            <div class="recipe-card-header">
              <span class="recipe-category">${recipe.category}</span>
              <span class="recipe-id">#${String(recipe.id).padStart(3, "0")}</span>
            </div>
            <h3>${recipe.name}</h3>
            <p>${recipe.description}</p>
            <div class="badge-row">
              <span class="badge">${recipe.cookTime} min</span>
              <span class="badge">${recipe.calories} kcal</span>
              <span class="badge">${recipe.tag}</span>
            </div>
          `;
          recipeGrid.appendChild(card);
        });
        resultsCount.textContent = `Showing ${recipes.length} recipes`;
      };

      const applyFilters = () => {
        const query = searchInput.value.toLowerCase();
        const category = categorySelect.value;
        let filtered = recipeData.filter((recipe) => {
          const matchesQuery = recipe.name.toLowerCase().includes(query);
          const matchesCategory = category === "all" || recipe.category === category;
          return matchesQuery && matchesCategory;
        });

        if (sortSelect.value === "time") {
          filtered = filtered.sort((a, b) => a.cookTime - b.cookTime);
        } else if (sortSelect.value === "calories") {
          filtered = filtered.sort((a, b) => a.calories - b.calories);
        }

        renderRecipes(filtered);
      };

      [searchInput, categorySelect, sortSelect].forEach((input) => {
        input.addEventListener("input", applyFilters);
        input.addEventListener("change", applyFilters);
      });

      renderRecipes(recipeData);
    </script>
  </body>
</html>
